(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"8b24":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",[i("div",{staticClass:"q-pa-md"},[i("div",{staticClass:"row text-subtitle1"},[t._v("Please choose your file type")]),i("div",{staticClass:"row"},[i("q-uploader",{attrs:{url:"apis/upload",label:"WAV and MP3 file are accepted",accept:".wav, .mp3"},on:{rejected:t.onRejected,added:t.onAdded}})],1),t.duration>0?i("div",[i("div",{staticClass:"row text-body1"},[t._v("\n        Your audio file is about "),i("b",[t._v(" "+t._s(t.duration)+" ")]),t._v(" seconds\n        long\n      ")]),i("div",{staticClass:"row"},[i("q-input",{staticStyle:{"min-width":"30em"},attrs:{type:"number","lazy-rules":"",rules:[function(t){return null!==t&&""!==t||"Please type time gap"},function(t){return t>0||"The time gap should be positive"}],label:"Please type the time gap you prefer to have",suffix:"seconds"},model:{value:t.time_gap,callback:function(e){t.time_gap=e},expression:"time_gap"}})],1),t.num_intact>0?i("div",{staticClass:"row text-body1"},[t._v("\n        Your audio file will be cut into\n        "),i("b",[t._v(" "+t._s(t.num_intact)+" ")]),t._v(" intact parts\n      ")]):t._e(),t.num_non_intact>0?i("div",{staticClass:"row text-body1"},[t._v("\n        The rest non-intact part contains\n        "),i("b",[t._v(" "+t._s(t.num_non_intact)+" ")]),t._v(" seconds\n      ")]):t._e(),i("div",{staticClass:"row text-subtitle1 q-pt-sm"},[t._v("\n        Please choose the picture you want to output:\n      ")]),i("div",{staticClass:"row"},[i("q-option-group",{attrs:{type:"checkbox",options:t.picture_options,color:"primary",inline:""},model:{value:t.pictures,callback:function(e){t.pictures=e},expression:"pictures"}})],1),i("div",{staticClass:"row"},[i("q-btn",{attrs:{label:"Submit",color:"primary"},on:{click:t.submit}})],1),t.output_images.length>0?i("div",{staticClass:"row q-pt-sm"},[i("viewer",{ref:"viewer",attrs:{options:t.viewer_options,images:t.output_images},scopedSlots:t._u([{key:"default",fn:function(e){return t._l(e.images,(function(t){var e=t.src,n=t.alt;return i("img",{key:e,staticStyle:{height:"200px",cursor:"pointer",margin:"5px",display:"inline-block"},attrs:{src:e,alt:n}})}))}}],null,!1,1574533307)})],1):t._e()]):t._e()])])},a=[],s=(i("0808"),i("172a")),o={components:{Viewer:s["a"]},name:"PageIndex",methods:{submit:function(){if(null==this.time_gap)return void this.$q.notify({type:"negative",message:"Please type the time gap"});if(0==this.pictures.length)return void this.$q.notify({type:"negative",message:"Please select the picture"});let t={gap_val:this.time_gap,pictures:this.pictures};console.log(t),fetch("/apis/submit",{method:"POST",body:JSON.stringify(t)}).then((t=>t.json())).then((t=>{this.output_images=t})),this.$q.notify({type:"positive",message:`${JSON.stringify(t)}`})},onRejected(t){console.log(t),this.$q.notify({type:"negative",message:`${t.length} file(s) did not pass validation constraints`})},onAdded(t){var e=t[0],i=new FileReader;i.onload=t=>{var e=new(window.AudioContext||window.webkitAudioContext);e.decodeAudioData(t.target.result,(t=>{this.duration=parseInt(t.duration),console.log("The duration of the song is of: "+this.duration+" seconds")}))},i.onerror=function(t){console.error("An error ocurred reading the file: ",t)},i.readAsArrayBuffer(e),this.output_images=[],this.duration=null,this.time_gap=null}},computed:{num_intact:function(){return null===this.duration||null===this.time_gap||this.time_gap<=0?0:parseInt(this.duration/this.time_gap)},num_non_intact:function(){return null===this.duration||null===this.time_gap||this.time_gap<=0?0:this.duration%this.time_gap}},data(){return{picture_options:[{label:"STFT 2D",value:"stft_2d"},{label:"STFT 3D",value:"stft_3d"},{label:"waveletes 2D",value:"waveletes_2d"},{label:"waveletes 3D",value:"waveletes_3d"}],duration:null,time_gap:null,pictures:[],output_images:[],viewer_options:{toolbar:!1,inline:!1,movable:!1,title:[1,(t,e)=>`${t.alt}`],transition:!1,rotatable:!1,transition:!1,navbar:!1}}}},r=o,l=i("2877"),u=i("9989"),p=i("ee89"),c=i("27f9"),d=i("9f0a"),m=i("9c40"),_=i("eebe"),v=i.n(_),g=Object(l["a"])(r,n,a,!1,null,null,null);e["default"]=g.exports;v()(g,"components",{QPage:u["a"],QUploader:p["a"],QInput:c["a"],QOptionGroup:d["a"],QBtn:m["a"]})}}]);